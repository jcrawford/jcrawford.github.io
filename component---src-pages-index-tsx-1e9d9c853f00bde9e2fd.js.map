{"version":3,"file":"component---src-pages-index-tsx-1e9d9c853f00bde9e2fd.js","mappings":"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","sources":["webpack://gatsby-magazine-site/./src/utils/textUtils.ts","webpack://gatsby-magazine-site/./src/components/ArticleCard.tsx","webpack://gatsby-magazine-site/./src/pages/index.tsx","webpack://gatsby-magazine-site/./src/components/SeriesWidget.tsx","webpack://gatsby-magazine-site/./src/components/Sidebar.tsx"],"sourcesContent":["/**\n * Truncate text to specified length with ellipsis\n * Ensures truncation happens at word boundaries\n */\nexport function truncateText(text: string, maxLength: number): string {\n  if (text.length <= maxLength) {\n    return text;\n  }\n\n  const truncated = text.slice(0, maxLength);\n  const lastSpaceIndex = truncated.lastIndexOf(' ');\n\n  if (lastSpaceIndex > 0) {\n    return truncated.slice(0, lastSpaceIndex) + '...';\n  }\n\n  return truncated + '...';\n}\n\n/**\n * Truncate excerpt to 200 characters (per spec clarification)\n */\nexport function truncateExcerpt(excerpt: string): string {\n  return truncateText(excerpt, 200);\n}\n\n/**\n * Strip HTML tags from text\n */\nexport function stripHtml(html: string): string {\n  return html.replace(/<[^>]*>/g, '').replace(/\\s+/g, ' ').trim();\n}\n\n/**\n * Get reading time estimate (words per minute: 200)\n */\nexport function getReadingTime(text: string): number {\n  const words = stripHtml(text).split(/\\s+/).length;\n  const minutes = Math.ceil(words / 200);\n  return minutes;\n}\n\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport { formatDate } from '../utils/dateUtils';\nimport { truncateText } from '../utils/textUtils';\nimport OptimizedImage from './OptimizedImage';\n\ninterface ArticleCardProps {\n  slug: string;\n  title: string;\n  excerpt: string;\n  featuredImage: string;\n  category: string;\n  categoryName: string;\n  publishedAt: string;\n  author: string;\n  authorName: string;\n}\n\nconst ArticleCard: React.FC<ArticleCardProps> = ({\n  slug,\n  title,\n  excerpt,\n  featuredImage,\n  category,\n  categoryName,\n  publishedAt,\n  author,\n  authorName,\n}) => {\n  return (\n    <article className=\"hm-article-card\">\n      <Link to={`/articles/${slug}`} className=\"hm-article-card-image\">\n        <OptimizedImage \n          src={featuredImage} \n          alt={title}\n          loading=\"lazy\"\n        />\n      </Link>\n      \n      <div className=\"hm-article-card-content\">\n        <Link \n          to={`/category/${category}`}\n          className=\"hm-article-card-category\"\n        >\n          {categoryName}\n        </Link>\n        \n        <h2 className=\"hm-article-card-title\">\n          <Link to={`/articles/${slug}`}>\n            {title}\n          </Link>\n        </h2>\n        \n        <p className=\"hm-article-card-excerpt\">\n          {truncateText(excerpt, 150)}\n        </p>\n        \n        <div className=\"hm-article-card-meta\">\n          <span>\n            <Link to={`/author/${author}`}>\n              {authorName}\n            </Link>\n          </span>\n          <span>•</span>\n          <span>\n            <time dateTime={publishedAt}>\n              {formatDate(publishedAt)}\n            </time>\n          </span>\n        </div>\n      </div>\n    </article>\n  );\n};\n\nexport default ArticleCard;\n\n","import React from 'react';\nimport { graphql, PageProps, HeadFC } from 'gatsby';\nimport Layout from '../components/Layout';\nimport FeaturedSlider from '../components/FeaturedSlider';\nimport HighlightedPost from '../components/HighlightedPost';\nimport CategoryTabs from '../components/CategoryTabs';\nimport ArticleCard from '../components/ArticleCard';\nimport Sidebar from '../components/Sidebar';\nimport SEO from '../components/SEO';\n\ninterface ArticleFrontmatter {\n  slug: string;\n  title: string;\n  excerpt: string;\n  featuredImage: string;\n  category: string;\n  tags: string[];\n  author: string;\n  publishedAt: string;\n  updatedAt: string;\n  series?: {\n    name: string;\n    order?: number;\n  };\n}\n\ninterface Article {\n  id: string;\n  html: string;\n  frontmatter: ArticleFrontmatter;\n}\n\ninterface Category {\n  slug: string;\n  name: string;\n}\n\ninterface Author {\n  slug: string;\n  name: string;\n}\n\ninterface IndexPageData {\n  allMarkdownRemark: {\n    nodes: Article[];\n  };\n  allCategoriesJson: {\n    nodes: Category[];\n  };\n  allAuthorsJson: {\n    nodes: Author[];\n  };\n}\n\n// Standalone Coming Soon Component (Production Only - No Layout)\nconst ComingSoonPage: React.FC = () => {\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      zIndex: 999999,\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n    }}>\n      <style dangerouslySetInnerHTML={{\n        __html: `\n          body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden !important;\n          }\n          \n          #___gatsby,\n          #gatsby-focus-wrapper {\n            height: 100%;\n            overflow: hidden !important;\n          }\n          \n          @keyframes fadeIn {\n            from { opacity: 0; transform: translateY(20px); }\n            to { opacity: 1; transform: translateY(0); }\n          }\n        `\n      }} />\n      <div style={{\n        textAlign: 'center',\n        padding: '2rem',\n        maxWidth: '600px',\n        animation: 'fadeIn 1s ease-in',\n        color: '#fff',\n      }}>\n        <div style={{\n          fontSize: '3rem',\n          marginBottom: '2rem',\n        }}>✨</div>\n        <h1 style={{\n          fontSize: 'clamp(2.5rem, 6vw, 4rem)',\n          fontWeight: 700,\n          marginBottom: '1.5rem',\n          lineHeight: 1.2,\n          textShadow: '0 2px 10px rgba(0, 0, 0, 0.2)',\n        }}>\n          Coming Soon\n        </h1>\n        <p style={{\n          fontSize: 'clamp(1.1rem, 2.5vw, 1.5rem)',\n          marginBottom: '3rem',\n          opacity: 0.95,\n          lineHeight: 1.6,\n          fontWeight: 300,\n        }}>\n          Something amazing is in the works. We're crafting a beautiful experience and can't wait to share it with you.\n        </p>\n        <div style={{\n          display: 'inline-block',\n          padding: '1rem 2.5rem',\n          background: 'rgba(255, 255, 255, 0.2)',\n          backdropFilter: 'blur(10px)',\n          borderRadius: '50px',\n          fontSize: '0.9rem',\n          fontWeight: 600,\n          letterSpacing: '0.1em',\n          textTransform: 'uppercase',\n          border: '2px solid rgba(255, 255, 255, 0.3)',\n          boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)',\n        }}>\n          Stay Tuned\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Full Homepage Component (Development)\nconst HomePage: React.FC<PageProps<IndexPageData>> = ({ data }) => {\n  const articles = data.allMarkdownRemark.nodes;\n  const categories = data.allCategoriesJson.nodes;\n\n  // Group articles by series\n  const seriesMap = new Map<string, Article[]>();\n  const standaloneArticles: Article[] = [];\n\n  articles.forEach(article => {\n    if (article.frontmatter.series?.name) {\n      const seriesName = article.frontmatter.series.name;\n      if (!seriesMap.has(seriesName)) {\n        seriesMap.set(seriesName, []);\n      }\n      seriesMap.get(seriesName)!.push(article);\n    } else {\n      standaloneArticles.push(article);\n    }\n  });\n\n  // Extract first article from each series (sorted by order, then publishedAt)\n  const seriesFirstArticles: Article[] = [];\n  seriesMap.forEach((seriesArticles, seriesName) => {\n    const sortedArticles = [...seriesArticles].sort((a, b) => {\n      const orderA = a.frontmatter.series?.order ?? 999;\n      const orderB = b.frontmatter.series?.order ?? 999;\n      \n      if (orderA !== orderB) {\n        return orderA - orderB;\n      }\n      \n      return new Date(a.frontmatter.publishedAt).getTime() - \n             new Date(b.frontmatter.publishedAt).getTime();\n    });\n    \n    seriesFirstArticles.push(sortedArticles[0]);\n  });\n\n  // Combine standalone articles and series first articles\n  const allDisplayArticles = [...standaloneArticles, ...seriesFirstArticles].sort((a, b) => {\n    return new Date(b.frontmatter.publishedAt).getTime() - \n           new Date(a.frontmatter.publishedAt).getTime();\n  });\n\n  // Helper to map article for display (handles series vs standalone)\n  const mapArticleForSlider = (article: Article) => {\n    const isSeries = !!article.frontmatter.series?.name;\n    \n    if (isSeries) {\n      const seriesName = article.frontmatter.series!.name;\n      const seriesArticles = seriesMap.get(seriesName) || [];\n      \n      return {\n        ...article,\n        frontmatter: {\n          ...article.frontmatter,\n          title: seriesName,\n          excerpt: `A comprehensive ${seriesArticles.length}-part series on ${seriesName.toLowerCase()}.`,\n          featuredImage: `/images/content/${article.frontmatter.slug.split('/')[0]}/series-cover.jpg`,\n        },\n      };\n    }\n    \n    return article;\n  };\n\n  const featuredArticles = allDisplayArticles.slice(0, 5).map(mapArticleForSlider);\n  const highlightedArticles = allDisplayArticles.slice(5, 7).map(mapArticleForSlider);\n  const recentArticles = allDisplayArticles.slice(7, 19).map(mapArticleForSlider);\n\n  return (\n    <Layout>\n      <div className=\"hm-container\">\n        <div className=\"hm-fp1\">\n          <div className=\"hm-fp1-left\">\n            <FeaturedSlider articles={featuredArticles} />\n          </div>\n          <div className=\"hm-fp1-right\">\n            <div className=\"hm-highlighted-posts\">\n              {highlightedArticles.map((article) => (\n                <HighlightedPost\n                  key={article.id}\n                  title={article.frontmatter.title}\n                  category={article.frontmatter.category}\n                  slug={article.frontmatter.slug}\n                  featuredImage={article.frontmatter.featuredImage}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <CategoryTabs categories={categories} articles={articles} />\n\n        <div className=\"hm-content-sidebar-wrap\">\n          <main className=\"hm-primary-content\">\n            <div className=\"hm-article-grid\">\n              {recentArticles.map((article) => (\n                <ArticleCard\n                  key={article.id}\n                  title={article.frontmatter.title}\n                  excerpt={article.frontmatter.excerpt}\n                  category={article.frontmatter.category}\n                  slug={article.frontmatter.slug}\n                  featuredImage={article.frontmatter.featuredImage}\n                  author={article.frontmatter.author}\n                  publishedAt={article.frontmatter.publishedAt}\n                />\n              ))}\n            </div>\n          </main>\n          <aside className=\"hm-sidebar-desktop\">\n            <Sidebar />\n          </aside>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\n// Main component that conditionally renders based on environment\nconst IndexPage: React.FC<PageProps<IndexPageData>> = (props) => {\n  // Show Coming Soon only in production (standalone fullscreen overlay)\n  if (process.env.NODE_ENV === 'production') {\n    return <ComingSoonPage />;\n  }\n  \n  // Show full site in development\n  return <HomePage {...props} />;\n};\n\nexport default IndexPage;\n\nexport const Head: HeadFC = () => {\n  // Show Coming Soon title in production\n  if (process.env.NODE_ENV === 'production') {\n    return (\n      <>\n        <title>Coming Soon | Joseph Crawford</title>\n        <meta name=\"description\" content=\"Something amazing is coming soon.\" />\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\n      </>\n    );\n  }\n  \n  // Regular SEO in development\n  return <SEO />;\n};\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark(\n      sort: { frontmatter: { publishedAt: DESC } }\n      limit: 100\n    ) {\n      nodes {\n        id\n        html\n        frontmatter {\n          slug\n          title\n          excerpt\n          featuredImage\n          category\n          tags\n          author\n          publishedAt\n          updatedAt\n          series {\n            name\n            order\n          }\n        }\n      }\n    }\n    allCategoriesJson {\n      nodes {\n        slug\n        name\n      }\n    }\n    allAuthorsJson {\n      nodes {\n        slug\n        name\n      }\n    }\n  }\n`;\n","/**\n * Series Widget Component\n * Displays article series navigation with table of contents, references, and attachments\n */\n\nimport React from 'react';\nimport { Link } from 'gatsby';\nimport type { SeriesMetadata, SeriesArticle } from '../types';\nimport '../styles/series-widget.css';\n\nexport interface SeriesWidgetProps {\n  /** Series metadata for current article */\n  series: SeriesMetadata;\n  \n  /** Current article slug */\n  currentSlug: string;\n  \n  /** All articles in this series (for Table of Contents) */\n  seriesArticles: SeriesArticle[];\n}\n\n/**\n * SeriesWidget displays series navigation, table of contents, references, and attachments\n */\nexport const SeriesWidget: React.FC<SeriesWidgetProps> = ({\n  series,\n  currentSlug,\n  seriesArticles,\n}) => {\n  // Sort articles by order (if present) or publishedAt date\n  const sortedArticles = [...seriesArticles].sort((a, b) => {\n    // If both have order, use that\n    if (a.order !== undefined && b.order !== undefined) {\n      return a.order - b.order;\n    }\n    \n    // If only one has order, it comes first\n    if (a.order !== undefined) return -1;\n    if (b.order !== undefined) return 1;\n    \n    // Otherwise, sort by published date\n    return new Date(a.publishedAt).getTime() - new Date(b.publishedAt).getTime();\n  });\n\n  // Helper function to strip series name from title\n  const stripSeriesName = (title: string): string => {\n    const patterns = [\n      `${series.name}: `,\n      `${series.name} - `,\n      `${series.name} – `,\n      `${series.name}: `,\n    ];\n    \n    let cleanTitle = title;\n    for (const pattern of patterns) {\n      if (cleanTitle.startsWith(pattern)) {\n        cleanTitle = cleanTitle.substring(pattern.length);\n        break;\n      }\n    }\n    \n    return cleanTitle;\n  };\n\n  return (\n    <aside className=\"series-widget\" aria-label=\"Series Navigation\">\n      {/* Header */}\n      <header className=\"series-widget__header\">\n        <h2 className=\"series-widget__title\">Part of a Series</h2>\n        <p className=\"series-widget__series-name\">{series.name}</p>\n      </header>\n\n      {/* Table of Contents */}\n      {sortedArticles.length > 0 && (\n        <nav className=\"series-widget__toc\" aria-label=\"Series Table of Contents\">\n          <h3 className=\"series-widget__toc-title\">Table of Contents</h3>\n          <ol className=\"series-widget__toc-list\">\n            {sortedArticles.map((article, index) => {\n              const isCurrentArticle = article.slug === currentSlug;\n              const displayTitle = stripSeriesName(article.title);\n              \n              return (\n                <li key={article.slug} className=\"series-widget__toc-item\">\n                  <span className=\"series-widget__toc-number\">{index + 1}.</span>\n                  {isCurrentArticle ? (\n                    <span \n                      className=\"series-widget__toc-item--current\"\n                      aria-current=\"page\"\n                    >\n                      {displayTitle}\n                    </span>\n                  ) : (\n                    <Link\n                      to={`/articles/${article.slug}`}\n                      className=\"series-widget__toc-link\"\n                    >\n                      {displayTitle}\n                    </Link>\n                  )}\n                </li>\n              );\n            })}\n          </ol>\n        </nav>\n      )}\n\n      {/* References */}\n      {series.references && series.references.length > 0 && (\n        <section \n          className=\"series-widget__references\" \n          aria-label=\"Series References\"\n        >\n          <h3 className=\"series-widget__references-title\">References</h3>\n          <ol className=\"series-widget__references-list\">\n            {series.references.map((reference, index) => (\n              <li key={index} className=\"series-widget__reference-item\">\n                <span className=\"series-widget__reference-number\">{index + 1}.</span>\n                <a\n                  href={reference.url}\n                  className=\"series-widget__reference-link\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {reference.title || reference.url}\n                </a>\n              </li>\n            ))}\n          </ol>\n        </section>\n      )}\n\n      {/* Attachments */}\n      {series.attachments && series.attachments.length > 0 && (\n        <section \n          className=\"series-widget__attachments\" \n          aria-label=\"Series Attachments\"\n        >\n          <h3 className=\"series-widget__attachments-title\">Attachments</h3>\n          <ol className=\"series-widget__attachments-list\">\n            {series.attachments.map((attachment, index) => (\n              <li key={index} className=\"series-widget__attachment-item\">\n                <span className=\"series-widget__attachment-number\">{index + 1}.</span>\n                <a\n                  href={attachment.filename}\n                  className=\"series-widget__attachment-link\"\n                  download\n                >\n                  {attachment.title || attachment.filename.split('/').pop() || attachment.filename}\n                </a>\n              </li>\n            ))}\n          </ol>\n        </section>\n      )}\n    </aside>\n  );\n};\n\nexport default SeriesWidget;\n\n","import React from 'react';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\nimport OptimizedImage from './OptimizedImage';\nimport { formatDate } from '../utils/dateUtils';\nimport SeriesWidget from './SeriesWidget';\nimport type { SeriesMetadata, SeriesArticle } from '../types';\n\ninterface SidebarArticle {\n  id: string;\n  slug: string;\n  title: string;\n  featuredImage: string;\n  publishedAt: string;\n}\n\ninterface SidebarData {\n  recentArticles: {\n    nodes: SidebarArticle[];\n  };\n  allCategoriesJson: {\n    nodes: Array<{\n      slug: string;\n      name: string;\n    }>;\n  };\n}\n\ninterface SidebarProps {\n  /** Current article slug (for series widget) */\n  currentSlug?: string;\n  \n  /** Series metadata (if article is part of a series) */\n  series?: SeriesMetadata;\n  \n  /** All articles in the series (for table of contents) */\n  seriesArticles?: SeriesArticle[];\n}\n\nconst Sidebar: React.FC<SidebarProps> = ({ \n  currentSlug,\n  series, \n  seriesArticles = [] \n}) => {\n  const data = useStaticQuery<SidebarData>(graphql`\n    query SidebarQuery {\n      recentArticles: allArticlesJson(\n        limit: 5\n        sort: { publishedAt: DESC }\n      ) {\n        nodes {\n          id\n          slug\n          title\n          featuredImage\n          publishedAt\n        }\n      }\n      allCategoriesJson {\n        nodes {\n          slug\n          name\n        }\n      }\n    }\n  `);\n\n  const recentArticles = data.recentArticles.nodes;\n  const categories = data.allCategoriesJson.nodes;\n\n  // If this is a series article, ONLY show the series widget\n  if (series && currentSlug) {\n    return (\n      <aside id=\"secondary\" className=\"hm-sidebar\">\n        <SeriesWidget \n          series={series}\n          currentSlug={currentSlug}\n          seriesArticles={seriesArticles}\n        />\n      </aside>\n    );\n  }\n\n  // Otherwise, show regular sidebar widgets\n  return (\n    <aside id=\"secondary\" className=\"hm-sidebar\">\n      {/* Popular Posts Widget */}\n      <div className=\"widget hm-sidebar-posts\">\n        <h3 className=\"widget-title\">Popular</h3>\n        {recentArticles.map((article) => (\n          <article key={article.id} className=\"hms-post\">\n            <div className=\"hms-thumb\">\n              <Link to={`/articles/${article.slug}`}>\n                <OptimizedImage \n                  src={article.featuredImage} \n                  alt={article.title}\n                  className=\"attachment-thumbnail size-thumbnail wp-post-image\"\n                />\n              </Link>\n            </div>\n            <div className=\"hms-details\">\n              <h4 className=\"hms-title\">\n                <Link to={`/articles/${article.slug}`}>{article.title}</Link>\n              </h4>\n              <span className=\"hms-date\">\n                {formatDate(article.publishedAt)}\n              </span>\n            </div>\n          </article>\n        ))}\n      </div>\n\n      {/* Categories Widget */}\n      <div className=\"widget widget_categories\">\n        <h3 className=\"widget-title\">Categories</h3>\n        <ul>\n          {categories.map((category) => (\n            <li key={category.slug} className=\"cat-item\">\n              <Link to={`/category/${category.slug}`}>{category.name}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </aside>\n  );\n};\n\nexport default Sidebar;\n"],"names":["truncateText","text","maxLength","length","truncated","slice","lastSpaceIndex","lastIndexOf","_ref","slug","title","excerpt","featuredImage","category","categoryName","publishedAt","author","authorName","React","className","Link","to","OptimizedImage","src","alt","loading","dateTime","formatDate","ComingSoonPage","style","position","top","left","right","bottom","zIndex","background","display","alignItems","justifyContent","fontFamily","dangerouslySetInnerHTML","__html","textAlign","padding","maxWidth","animation","color","fontSize","marginBottom","fontWeight","lineHeight","textShadow","opacity","backdropFilter","borderRadius","letterSpacing","textTransform","border","boxShadow","props","Head","name","content","series","currentSlug","seriesArticles","sortedArticles","_toConsumableArray","sort","a","b","undefined","order","Date","getTime","map","article","index","isCurrentArticle","displayTitle","patterns","cleanTitle","pattern","startsWith","substring","stripSeriesName","key","references","reference","href","url","target","rel","attachments","attachment","filename","download","split","pop","data","useStaticQuery","recentArticles","nodes","categories","allCategoriesJson","id","SeriesWidget"],"sourceRoot":""}