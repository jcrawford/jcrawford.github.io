{"version":3,"file":"component---src-templates-series-article-tsx-b9edd79ff73c11f0679b.js","mappings":"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","sources":["webpack://gatsby-magazine-site/./src/components/SeriesPrevNext.tsx","webpack://gatsby-magazine-site/./src/components/SeriesContext.tsx","webpack://gatsby-magazine-site/./src/templates/series-article.tsx","webpack://gatsby-magazine-site/./src/components/SeriesWidget.tsx","webpack://gatsby-magazine-site/./src/components/Sidebar.tsx"],"sourcesContent":["/**\n * Series Previous/Next Navigation Component\n * Displays navigation buttons for previous and next articles in a series\n */\n\nimport React from 'react';\nimport { Link } from 'gatsby';\nimport '../styles/series-navigation.css';\n\nexport interface SeriesPrevNextProps {\n  /** Previous article slug (if exists) */\n  prevSlug?: string;\n  \n  /** Previous article title (if exists) */\n  prevTitle?: string;\n  \n  /** Next article slug (if exists) */\n  nextSlug?: string;\n  \n  /** Next article title (if exists) */\n  nextTitle?: string;\n  \n  /** Position of navigation (top or bottom) */\n  position?: 'top' | 'bottom';\n  \n  /** Series name (to strip from titles) */\n  seriesName?: string;\n}\n\n/**\n * SeriesPrevNext displays Previous/Next navigation buttons for series articles\n */\nexport const SeriesPrevNext: React.FC<SeriesPrevNextProps> = ({\n  prevSlug,\n  prevTitle,\n  nextSlug,\n  nextTitle,\n  position = 'bottom',\n  seriesName,\n}) => {\n  // Don't render if neither prev nor next exists\n  if (!prevSlug && !nextSlug) {\n    return null;\n  }\n\n  // Helper function to strip series name from title\n  const stripSeriesName = (title: string | undefined): string => {\n    if (!title || !seriesName) return title || '';\n    \n    // Remove \"SeriesName: \" or \"SeriesName - \" prefix\n    const patterns = [\n      `${seriesName}: `,\n      `${seriesName} - `,\n      `${seriesName} – `,\n      `${seriesName}: `,\n    ];\n    \n    let cleanTitle = title;\n    for (const pattern of patterns) {\n      if (cleanTitle.startsWith(pattern)) {\n        cleanTitle = cleanTitle.substring(pattern.length);\n        break;\n      }\n    }\n    \n    return cleanTitle;\n  };\n\n  const displayPrevTitle = stripSeriesName(prevTitle);\n  const displayNextTitle = stripSeriesName(nextTitle);\n\n  return (\n    <nav \n      className={`series-navigation series-navigation--${position}`}\n      aria-label=\"Series Navigation\"\n    >\n      {/* Previous Button */}\n      {prevSlug && displayPrevTitle ? (\n        <Link\n          to={`/articles/${prevSlug}`}\n          className=\"series-navigation__button series-navigation__prev\"\n        >\n          <span className=\"series-navigation__content\">\n            <span className=\"series-navigation__label\">\n              <span className=\"series-navigation__arrow\" aria-hidden=\"true\">←</span>\n              Previous\n            </span>\n            <span className=\"series-navigation__title\">{displayPrevTitle}</span>\n          </span>\n        </Link>\n      ) : (\n        <span className=\"series-navigation__spacer\" aria-hidden=\"true\" />\n      )}\n\n      {/* Next Button */}\n      {nextSlug && displayNextTitle ? (\n        <Link\n          to={`/articles/${nextSlug}`}\n          className=\"series-navigation__button series-navigation__next\"\n        >\n          <span className=\"series-navigation__content\">\n            <span className=\"series-navigation__label\">\n              Next\n              <span className=\"series-navigation__arrow\" aria-hidden=\"true\">→</span>\n            </span>\n            <span className=\"series-navigation__title\">{displayNextTitle}</span>\n          </span>\n        </Link>\n      ) : (\n        <span className=\"series-navigation__spacer\" aria-hidden=\"true\" />\n      )}\n    </nav>\n  );\n};\n\nexport default SeriesPrevNext;\n\n","/**\n * Series Context Component\n * Displays contextual information about the current article's position in a series\n */\n\nimport React from 'react';\nimport '../styles/series-context.css';\n\nexport interface SeriesContextProps {\n  /** Series name */\n  seriesName: string;\n  \n  /** Current article's position (order) in the series */\n  currentOrder?: number;\n  \n  /** Total number of articles in the series */\n  totalArticles: number;\n}\n\n/**\n * SeriesContext displays the article's position within a series\n * Example: \"This is part 2 of a 3-part series on Building Better Websites.\"\n */\nexport const SeriesContext: React.FC<SeriesContextProps> = ({\n  seriesName,\n  currentOrder,\n  totalArticles,\n}) => {\n  // Don't render if we don't have enough information\n  if (!seriesName || totalArticles === 0) {\n    console.warn('SeriesContext: Missing data', { seriesName, currentOrder, totalArticles });\n    return null;\n  }\n\n  // If we have an explicit order, use it; otherwise don't show specific position\n  const positionText = currentOrder\n    ? `This is part ${currentOrder} of a ${totalArticles}-part series on ${seriesName}.`\n    : `This is part of a ${totalArticles}-part series on ${seriesName}.`;\n\n  return (\n    <div className=\"series-context\">\n      {positionText}\n    </div>\n  );\n};\n\nexport default SeriesContext;\n\n","import React from 'react';\nimport { graphql, Link, PageProps, HeadFC } from 'gatsby';\nimport Layout from '../components/Layout';\nimport Sidebar from '../components/Sidebar';\nimport SeriesPrevNext from '../components/SeriesPrevNext';\nimport SeriesContext from '../components/SeriesContext';\nimport { formatDate } from '../utils/dateUtils';\nimport OptimizedImage from '../components/OptimizedImage';\nimport SEO from '../components/SEO';\nimport type { SeriesMetadata, SeriesArticle } from '../types';\n\ninterface SeriesArticleData {\n  markdownRemark: {\n    id: string;\n    html: string;\n    frontmatter: {\n      slug: string;\n      title: string;\n      excerpt: string;\n      featuredImage: string;\n      category: string;\n      tags: string[];\n      author: string;\n      publishedAt: string;\n      updatedAt: string;\n      series: {\n        name: string;\n        order?: number;\n        prev?: string;\n        next?: string;\n        references?: Array<{\n          url: string;\n          title?: string;\n        }>;\n        attachments?: Array<{\n          filename: string;\n          title?: string;\n        }>;\n      };\n    };\n  };\n  categoriesJson: {\n    name: string;\n    slug: string;\n  };\n  authorsJson: {\n    name: string;\n    slug: string;\n    bio: string;\n    avatar: string;\n  };\n  seriesArticles: {\n    nodes: Array<{\n      frontmatter: {\n        slug: string;\n        title: string;\n        publishedAt: string;\n        series?: {\n          order?: number;\n        };\n      };\n    }>;\n  };\n}\n\nconst SeriesArticleTemplate: React.FC<PageProps<SeriesArticleData>> = ({ data }) => {\n  const article = data.markdownRemark.frontmatter;\n  const articleHtml = data.markdownRemark.html;\n  const category = data.categoriesJson;\n  const author = data.authorsJson;\n\n  // Prepare series metadata\n  const seriesMetadata: SeriesMetadata = {\n    name: article.series.name,\n    order: article.series.order,\n    prev: article.series.prev,\n    next: article.series.next,\n    references: article.series.references,\n    attachments: article.series.attachments,\n  };\n\n  // Prepare series articles for table of contents\n  const seriesArticles: SeriesArticle[] = data.seriesArticles.nodes.map((node) => ({\n    slug: node.frontmatter.slug,\n    title: node.frontmatter.title,\n    publishedAt: node.frontmatter.publishedAt,\n    order: node.frontmatter.series?.order,\n  }));\n\n  // Find prev/next article data\n  const prevArticleData = article.series.prev \n    ? seriesArticles.find((a) => a.slug === article.series.prev)\n    : null;\n  \n  const nextArticleData = article.series.next\n    ? seriesArticles.find((a) => a.slug === article.series.next)\n    : null;\n\n  // Strip series name from article title\n  const getDisplayTitle = (title: string): string => {\n    const seriesName = article.series.name;\n    const patterns = [\n      `${seriesName}: `,\n      `${seriesName} - `,\n      `${seriesName} – `,\n      `${seriesName}: `,\n    ];\n    \n    let cleanTitle = title;\n    for (const pattern of patterns) {\n      if (cleanTitle.startsWith(pattern)) {\n        cleanTitle = cleanTitle.substring(pattern.length);\n        break;\n      }\n    }\n    \n    return cleanTitle;\n  };\n\n  const displayTitle = getDisplayTitle(article.title);\n\n  return (\n    <Layout>\n      <div className=\"hm-container\">\n        <div className=\"hm-content-sidebar-wrap\">\n          <main className=\"hm-primary-content\">\n            {/* Series Navigation - Top */}\n            {(prevArticleData || nextArticleData) && (\n              <SeriesPrevNext\n                prevSlug={prevArticleData?.slug}\n                prevTitle={prevArticleData?.title}\n                nextSlug={nextArticleData?.slug}\n                nextTitle={nextArticleData?.title}\n                seriesName={article.series.name}\n                position=\"top\"\n              />\n            )}\n\n            <article className=\"hm-article\">\n              <header className=\"hm-article-header\">\n                <Link \n                  to={`/category/${category.slug}`}\n                  className=\"hm-article-category\"\n                >\n                  {category.name}\n                </Link>\n                \n                <h1 className=\"hm-article-title\">{displayTitle}</h1>\n                \n                <div className=\"hm-article-meta\">\n                  <span className=\"hm-article-meta-by\">by</span>\n                  <Link to={`/author/${author.slug}`} className=\"hm-article-author-name\">\n                    {author.name}\n                  </Link>\n                  <span className=\"hm-article-meta-separator\">•</span>\n                  <time className=\"hm-article-date\" dateTime={article.publishedAt}>\n                    {formatDate(article.publishedAt)}\n                  </time>\n                  <span className=\"hm-article-meta-separator\">•</span>\n                  <span className=\"hm-article-comments\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                      <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\n                    </svg>\n                    0\n                  </span>\n                </div>\n              </header>\n\n              <div className=\"hm-article-featured-image\">\n                <OptimizedImage \n                  src={article.featuredImage} \n                  alt={article.title}\n                  loading=\"eager\"\n                />\n              </div>\n\n              {/* Series Context - Auto-generated */}\n              <SeriesContext\n                seriesName={article.series.name}\n                currentOrder={article.series.order}\n                totalArticles={seriesArticles.length}\n              />\n\n              <div \n                className=\"hm-article-content\"\n                dangerouslySetInnerHTML={{ __html: articleHtml }}\n              />\n\n              {article.tags.length > 0 && (\n                <div className=\"hm-article-tags\">\n                  <span className=\"hm-article-tags-label\">Tags:</span>\n                  {article.tags.map((tag) => (\n                    <span key={tag} className=\"hm-article-tag\">\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              )}\n            </article>\n\n            {/* Series Navigation - Bottom */}\n            {(prevArticleData || nextArticleData) && (\n              <SeriesPrevNext\n                prevSlug={prevArticleData?.slug}\n                prevTitle={prevArticleData?.title}\n                nextSlug={nextArticleData?.slug}\n                nextTitle={nextArticleData?.title}\n                seriesName={article.series.name}\n                position=\"bottom\"\n              />\n            )}\n          </main>\n\n          {/* Sidebar - Only Series Widget */}\n          <Sidebar \n            currentSlug={article.slug}\n            series={seriesMetadata}\n            seriesArticles={seriesArticles}\n          />\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query SeriesArticleQuery(\n    $slug: String!\n    $category: String!\n    $author: String!\n    $seriesName: String!\n  ) {\n    markdownRemark(frontmatter: { slug: { eq: $slug } }) {\n      id\n      html\n      frontmatter {\n        slug\n        title\n        excerpt\n        featuredImage\n        category\n        tags\n        author\n        publishedAt\n        updatedAt\n        series {\n          name\n          order\n          prev\n          next\n          references {\n            url\n            title\n          }\n          attachments {\n            filename\n            title\n          }\n        }\n      }\n    }\n    categoriesJson(slug: { eq: $category }) {\n      name\n      slug\n    }\n    authorsJson(slug: { eq: $author }) {\n      name\n      slug\n      bio\n      avatar\n    }\n    seriesArticles: allMarkdownRemark(\n      filter: { frontmatter: { series: { name: { eq: $seriesName } } } }\n      sort: [\n        { frontmatter: { series: { order: ASC } } }\n        { frontmatter: { publishedAt: ASC } }\n      ]\n    ) {\n      nodes {\n        frontmatter {\n          slug\n          title\n          publishedAt\n          series {\n            order\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const Head: HeadFC<SeriesArticleData> = ({ data }) => {\n  const frontmatter = data.markdownRemark.frontmatter;\n  \n  // Strip series name from title for SEO\n  const getDisplayTitle = (title: string): string => {\n    const seriesName = frontmatter.series.name;\n    const patterns = [\n      `${seriesName}: `,\n      `${seriesName} - `,\n      `${seriesName} – `,\n      `${seriesName}: `,\n    ];\n    \n    let cleanTitle = title;\n    for (const pattern of patterns) {\n      if (cleanTitle.startsWith(pattern)) {\n        cleanTitle = cleanTitle.substring(pattern.length);\n        break;\n      }\n    }\n    \n    return cleanTitle;\n  };\n\n  const displayTitle = getDisplayTitle(frontmatter.title);\n  \n  return (\n    <SEO \n      title={displayTitle}\n      description={frontmatter.excerpt}\n      image={frontmatter.featuredImage}\n      article={true}\n      pathname={`/articles/${frontmatter.slug}`}\n    />\n  );\n};\n\nexport default SeriesArticleTemplate;\n\n","/**\n * Series Widget Component\n * Displays article series navigation with table of contents, references, and attachments\n */\n\nimport React from 'react';\nimport { Link } from 'gatsby';\nimport type { SeriesMetadata, SeriesArticle } from '../types';\nimport '../styles/series-widget.css';\n\nexport interface SeriesWidgetProps {\n  /** Series metadata for current article */\n  series: SeriesMetadata;\n  \n  /** Current article slug */\n  currentSlug: string;\n  \n  /** All articles in this series (for Table of Contents) */\n  seriesArticles: SeriesArticle[];\n}\n\n/**\n * SeriesWidget displays series navigation, table of contents, references, and attachments\n */\nexport const SeriesWidget: React.FC<SeriesWidgetProps> = ({\n  series,\n  currentSlug,\n  seriesArticles,\n}) => {\n  // Sort articles by order (if present) or publishedAt date\n  const sortedArticles = [...seriesArticles].sort((a, b) => {\n    // If both have order, use that\n    if (a.order !== undefined && b.order !== undefined) {\n      return a.order - b.order;\n    }\n    \n    // If only one has order, it comes first\n    if (a.order !== undefined) return -1;\n    if (b.order !== undefined) return 1;\n    \n    // Otherwise, sort by published date\n    return new Date(a.publishedAt).getTime() - new Date(b.publishedAt).getTime();\n  });\n\n  // Helper function to strip series name from title\n  const stripSeriesName = (title: string): string => {\n    const patterns = [\n      `${series.name}: `,\n      `${series.name} - `,\n      `${series.name} – `,\n      `${series.name}: `,\n    ];\n    \n    let cleanTitle = title;\n    for (const pattern of patterns) {\n      if (cleanTitle.startsWith(pattern)) {\n        cleanTitle = cleanTitle.substring(pattern.length);\n        break;\n      }\n    }\n    \n    return cleanTitle;\n  };\n\n  return (\n    <aside className=\"series-widget\" aria-label=\"Series Navigation\">\n      {/* Header */}\n      <header className=\"series-widget__header\">\n        <h2 className=\"series-widget__title\">Part of a Series</h2>\n        <p className=\"series-widget__series-name\">{series.name}</p>\n      </header>\n\n      {/* Table of Contents */}\n      {sortedArticles.length > 0 && (\n        <nav className=\"series-widget__toc\" aria-label=\"Series Table of Contents\">\n          <h3 className=\"series-widget__toc-title\">Table of Contents</h3>\n          <ol className=\"series-widget__toc-list\">\n            {sortedArticles.map((article, index) => {\n              const isCurrentArticle = article.slug === currentSlug;\n              const displayTitle = stripSeriesName(article.title);\n              \n              return (\n                <li key={article.slug} className=\"series-widget__toc-item\">\n                  <span className=\"series-widget__toc-number\">{index + 1}.</span>\n                  {isCurrentArticle ? (\n                    <span \n                      className=\"series-widget__toc-item--current\"\n                      aria-current=\"page\"\n                    >\n                      {displayTitle}\n                    </span>\n                  ) : (\n                    <Link\n                      to={`/articles/${article.slug}`}\n                      className=\"series-widget__toc-link\"\n                    >\n                      {displayTitle}\n                    </Link>\n                  )}\n                </li>\n              );\n            })}\n          </ol>\n        </nav>\n      )}\n\n      {/* References */}\n      {series.references && series.references.length > 0 && (\n        <section \n          className=\"series-widget__references\" \n          aria-label=\"Series References\"\n        >\n          <h3 className=\"series-widget__references-title\">References</h3>\n          <ol className=\"series-widget__references-list\">\n            {series.references.map((reference, index) => (\n              <li key={index} className=\"series-widget__reference-item\">\n                <span className=\"series-widget__reference-number\">{index + 1}.</span>\n                <a\n                  href={reference.url}\n                  className=\"series-widget__reference-link\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {reference.title || reference.url}\n                </a>\n              </li>\n            ))}\n          </ol>\n        </section>\n      )}\n\n      {/* Attachments */}\n      {series.attachments && series.attachments.length > 0 && (\n        <section \n          className=\"series-widget__attachments\" \n          aria-label=\"Series Attachments\"\n        >\n          <h3 className=\"series-widget__attachments-title\">Attachments</h3>\n          <ol className=\"series-widget__attachments-list\">\n            {series.attachments.map((attachment, index) => (\n              <li key={index} className=\"series-widget__attachment-item\">\n                <span className=\"series-widget__attachment-number\">{index + 1}.</span>\n                <a\n                  href={attachment.filename}\n                  className=\"series-widget__attachment-link\"\n                  download\n                >\n                  {attachment.title || attachment.filename.split('/').pop() || attachment.filename}\n                </a>\n              </li>\n            ))}\n          </ol>\n        </section>\n      )}\n    </aside>\n  );\n};\n\nexport default SeriesWidget;\n\n","import React from 'react';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\nimport OptimizedImage from './OptimizedImage';\nimport { formatDate } from '../utils/dateUtils';\nimport SeriesWidget from './SeriesWidget';\nimport type { SeriesMetadata, SeriesArticle } from '../types';\n\ninterface SidebarArticle {\n  id: string;\n  slug: string;\n  title: string;\n  featuredImage: string;\n  publishedAt: string;\n}\n\ninterface SidebarData {\n  recentArticles: {\n    nodes: SidebarArticle[];\n  };\n  allCategoriesJson: {\n    nodes: Array<{\n      slug: string;\n      name: string;\n    }>;\n  };\n}\n\ninterface SidebarProps {\n  /** Current article slug (for series widget) */\n  currentSlug?: string;\n  \n  /** Series metadata (if article is part of a series) */\n  series?: SeriesMetadata;\n  \n  /** All articles in the series (for table of contents) */\n  seriesArticles?: SeriesArticle[];\n}\n\nconst Sidebar: React.FC<SidebarProps> = ({ \n  currentSlug,\n  series, \n  seriesArticles = [] \n}) => {\n  const data = useStaticQuery<SidebarData>(graphql`\n    query SidebarQuery {\n      recentArticles: allArticlesJson(\n        limit: 5\n        sort: { publishedAt: DESC }\n      ) {\n        nodes {\n          id\n          slug\n          title\n          featuredImage\n          publishedAt\n        }\n      }\n      allCategoriesJson {\n        nodes {\n          slug\n          name\n        }\n      }\n    }\n  `);\n\n  const recentArticles = data.recentArticles.nodes;\n  const categories = data.allCategoriesJson.nodes;\n\n  // If this is a series article, ONLY show the series widget\n  if (series && currentSlug) {\n    return (\n      <aside id=\"secondary\" className=\"hm-sidebar\">\n        <SeriesWidget \n          series={series}\n          currentSlug={currentSlug}\n          seriesArticles={seriesArticles}\n        />\n      </aside>\n    );\n  }\n\n  // Otherwise, show regular sidebar widgets\n  return (\n    <aside id=\"secondary\" className=\"hm-sidebar\">\n      {/* Popular Posts Widget */}\n      <div className=\"widget hm-sidebar-posts\">\n        <h3 className=\"widget-title\">Popular</h3>\n        {recentArticles.map((article) => (\n          <article key={article.id} className=\"hms-post\">\n            <div className=\"hms-thumb\">\n              <Link to={`/articles/${article.slug}`}>\n                <OptimizedImage \n                  src={article.featuredImage} \n                  alt={article.title}\n                  className=\"attachment-thumbnail size-thumbnail wp-post-image\"\n                />\n              </Link>\n            </div>\n            <div className=\"hms-details\">\n              <h4 className=\"hms-title\">\n                <Link to={`/articles/${article.slug}`}>{article.title}</Link>\n              </h4>\n              <span className=\"hms-date\">\n                {formatDate(article.publishedAt)}\n              </span>\n            </div>\n          </article>\n        ))}\n      </div>\n\n      {/* Categories Widget */}\n      <div className=\"widget widget_categories\">\n        <h3 className=\"widget-title\">Categories</h3>\n        <ul>\n          {categories.map((category) => (\n            <li key={category.slug} className=\"cat-item\">\n              <Link to={`/category/${category.slug}`}>{category.name}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </aside>\n  );\n};\n\nexport default Sidebar;\n"],"names":["_ref","prevSlug","prevTitle","nextSlug","nextTitle","position","seriesName","stripSeriesName","title","patterns","cleanTitle","pattern","startsWith","substring","length","displayPrevTitle","displayNextTitle","React","className","Link","to","currentOrder","totalArticles","console","warn","positionText","Head","_ref2","data","frontmatter","markdownRemark","displayTitle","series","name","getDisplayTitle","SEO","description","excerpt","image","featuredImage","article","pathname","slug","articleHtml","html","category","categoriesJson","author","authorsJson","seriesMetadata","order","prev","next","references","attachments","seriesArticles","nodes","map","node","_node$frontmatter$ser","publishedAt","prevArticleData","find","a","nextArticleData","Layout","SeriesPrevNext","dateTime","formatDate","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","OptimizedImage","src","alt","loading","SeriesContext","dangerouslySetInnerHTML","__html","tags","tag","key","Sidebar","currentSlug","sortedArticles","_toConsumableArray","sort","b","undefined","Date","getTime","index","isCurrentArticle","reference","href","url","target","rel","attachment","filename","download","split","pop","useStaticQuery","recentArticles","categories","allCategoriesJson","id","SeriesWidget"],"sourceRoot":""}